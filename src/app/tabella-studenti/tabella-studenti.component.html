
<div *ngIf="isModifing" class="modal">
    <h4>Modifica studente</h4>
    <button (click)="annullaModifica()" class="bottone-chiusura">CHIUDI</button>
    <form [formGroup]="formModificaStudente" (ngSubmit)="submitModificaStudente()">
        <input type="hidden" name="id" formControlName="id">
        <label for="nome">Nome:</label>
        <input type="text" name="nome" formControlName="nome">
        <br>
    
        <label for="cognome">Cognome:</label>
        <input type="text" name="cognome" formControlName="cognome">
        <br>
    
        <label for="dataNascita">Data nascita:</label>
        <input type="date" name="dataNascita" formControlName="dataNascita">
        <br>
    
        <label for="classe">Classe studente:</label>
        <select name="classe" formControlName="classe">
            <option *ngFor="let classe of classi" [value]="classe.id">{{classe.sezione}}</option>
        </select>
        <br>
        <input type="submit">
    
    </form>
</div>

<div *ngIf="isInserting" class="modal">
    <h4>Nuovo studente</h4>
    <button (click)="annullaInserisci()" class="bottone-chiusura">CHIUDI</button>
    <form [formGroup]="formInserisciStudente" (ngSubmit)="submitInserisciStudente()">
        
        <label for="nome">Nome:</label>
        <input type="text" name="nome" formControlName="nome">
        <br>
    
        <label for="cognome">Cognome:</label>
        <input type="text" name="cognome" formControlName="cognome">
        <br>
    
        <label for="dataNascita">Data nascita:</label>
        <input type="date" name="dataNascita" formControlName="dataNascita">
        <br>

        <label for="username">Username:</label>
        <input type="text" name="username" formControlName="username">
        <br>
    
        <label for="password">Password:</label>
        <input type="text" name="password" formControlName="password">
        <br>
    
        <label for="classe">Classe studente:</label>
        <select name="classe" formControlName="classe">
            <option *ngFor="let classe of classi" [value]="classe.id">{{classe.sezione}}</option>
        </select>
        <br>
        <input type="submit">
    
    </form>
</div>

<table>
    <thead>
        <th>ID</th>
        <th>Nome</th>
        <th>Cognome</th>
        <th>Data nascita</th>
        <th>Classe</th>
        <th>MODIFICA</th>
        <th>ELIMINA</th>
    </thead>
    <tbody>
        <tr *ngFor="let studente of studenti">
            <td>{{studente.id}}</td>
            <td>{{studente.nome}}</td>
            <td>{{studente.cognome}}</td>
            <td>{{studente.dataNascita}}</td>
            <td>{{studente.classe.sezione}}</td>
            <td><button (click)="modificaStudente(studente)">MODIFICA</button></td>
            <td><button (click)="eliminaStudente(studente.id)">ELIMINA</button></td>
        </tr>
    </tbody>
</table>
<button (click)="inserisciStudente()">Inserisci nuovo studente</button>
